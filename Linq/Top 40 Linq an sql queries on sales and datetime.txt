
Sales table

Sales
-----
Id
CustomerId
ProductId
Amount
Quantity
OrderDate
City

‚≠ê Top 20 LINQ vs SQL Queries (Sales + DateTime)
1Ô∏è‚É£ Get all sales for today
‚úî LINQ
var todaySales = context.Sales
    .Where(s => s.OrderDate.Date == DateTime.Today)
    .ToList();

‚úî SQL
SELECT * FROM Sales
WHERE CAST(OrderDate AS DATE) = CAST(GETDATE() AS DATE);

2Ô∏è‚É£ Get sales for last 7 days
‚úî LINQ
var last7Days = context.Sales
    .Where(s => s.OrderDate >= DateTime.Today.AddDays(-7))
    .ToList();

‚úî SQL
SELECT * FROM Sales
WHERE OrderDate >= DATEADD(DAY, -7, GETDATE());

3Ô∏è‚É£ Total sales amount
‚úî LINQ
var total = context.Sales.Sum(s => s.Amount);

‚úî SQL
SELECT SUM(Amount) FROM Sales;

4Ô∏è‚É£ Total sales by customer
‚úî LINQ
var result = context.Sales
    .GroupBy(s => s.CustomerId)
    .Select(g => new {
        Customer = g.Key,
        Total = g.Sum(x => x.Amount)
    }).ToList();

‚úî SQL
SELECT CustomerId, SUM(Amount)
FROM Sales
GROUP BY CustomerId;

5Ô∏è‚É£ Monthly sales
‚úî LINQ
var monthly = context.Sales
    .GroupBy(s => new { s.OrderDate.Year, s.OrderDate.Month })
    .Select(g => new {
        g.Key.Year,
        g.Key.Month,
        Total = g.Sum(x => x.Amount)
    }).ToList();

‚úî SQL
SELECT YEAR(OrderDate), MONTH(OrderDate), SUM(Amount)
FROM Sales
GROUP BY YEAR(OrderDate), MONTH(OrderDate);

6Ô∏è‚É£ Sales in current month
‚úî LINQ
var currentMonth = context.Sales
    .Where(s => s.OrderDate.Month == DateTime.Now.Month &&
                s.OrderDate.Year == DateTime.Now.Year)
    .ToList();

‚úî SQL
SELECT * FROM Sales
WHERE MONTH(OrderDate) = MONTH(GETDATE())
AND YEAR(OrderDate) = YEAR(GETDATE());

7Ô∏è‚É£ Highest sale
‚úî LINQ
var maxSale = context.Sales.Max(s => s.Amount);

‚úî SQL
SELECT MAX(Amount) FROM Sales;

8Ô∏è‚É£ Top 5 sales
‚úî LINQ
var top5 = context.Sales
    .OrderByDescending(s => s.Amount)
    .Take(5)
    .ToList();

‚úî SQL
SELECT TOP 5 *
FROM Sales
ORDER BY Amount DESC;

9Ô∏è‚É£ Sales between date range
‚úî LINQ
var range = context.Sales
    .Where(s => s.OrderDate >= startDate &&
                s.OrderDate <= endDate)
    .ToList();

‚úî SQL
SELECT *
FROM Sales
WHERE OrderDate BETWEEN @startDate AND @endDate;

üîü Average sales per day
‚úî LINQ
var avg = context.Sales
    .GroupBy(s => s.OrderDate.Date)
    .Select(g => new {
        Date = g.Key,
        Avg = g.Average(x => x.Amount)
    }).ToList();

‚úî SQL
SELECT CAST(OrderDate AS DATE), AVG(Amount)
FROM Sales
GROUP BY CAST(OrderDate AS DATE);

1Ô∏è‚É£1Ô∏è‚É£ Count orders today
‚úî LINQ
var count = context.Sales
    .Count(s => s.OrderDate.Date == DateTime.Today);

‚úî SQL
SELECT COUNT(*)
FROM Sales
WHERE CAST(OrderDate AS DATE) = CAST(GETDATE() AS DATE);

1Ô∏è‚É£2Ô∏è‚É£ Latest sale per customer
‚úî LINQ
var latest = context.Sales
    .GroupBy(s => s.CustomerId)
    .Select(g => g.OrderByDescending(x => x.OrderDate).First());

‚úî SQL
SELECT *
FROM Sales s
WHERE OrderDate = (
    SELECT MAX(OrderDate)
    FROM Sales
    WHERE CustomerId = s.CustomerId
);

1Ô∏è‚É£3Ô∏è‚É£ Sales by city
‚úî LINQ
var city = context.Sales
    .GroupBy(s => s.City)
    .Select(g => new {
        City = g.Key,
        Total = g.Sum(x => x.Amount)
    }).ToList();

‚úî SQL
SELECT City, SUM(Amount)
FROM Sales
GROUP BY City;

1Ô∏è‚É£4Ô∏è‚É£ Yearly sales
‚úî LINQ
var yearly = context.Sales
    .GroupBy(s => s.OrderDate.Year)
    .Select(g => new {
        Year = g.Key,
        Total = g.Sum(x => x.Amount)
    }).ToList();

‚úî SQL
SELECT YEAR(OrderDate), SUM(Amount)
FROM Sales
GROUP BY YEAR(OrderDate);

1Ô∏è‚É£5Ô∏è‚É£ Sales in last month
‚úî LINQ
var lastMonth = context.Sales
    .Where(s => s.OrderDate >= DateTime.Now.AddMonths(-1))
    .ToList();

‚úî SQL
SELECT *
FROM Sales
WHERE OrderDate >= DATEADD(MONTH, -1, GETDATE());

1Ô∏è‚É£6Ô∏è‚É£ Customers with more than 5 orders
‚úî LINQ
var customers = context.Sales
    .GroupBy(s => s.CustomerId)
    .Where(g => g.Count() > 5)
    .Select(g => g.Key)
    .ToList();

‚úî SQL
SELECT CustomerId
FROM Sales
GROUP BY CustomerId
HAVING COUNT(*) > 5;

1Ô∏è‚É£7Ô∏è‚É£ Sales growth by month
‚úî LINQ
var growth = context.Sales
    .GroupBy(s => new { s.OrderDate.Year, s.OrderDate.Month })
    .OrderBy(g => g.Key.Year)
    .ThenBy(g => g.Key.Month)
    .Select(g => new {
        g.Key.Year,
        g.Key.Month,
        Total = g.Sum(x => x.Amount)
    });

‚úî SQL
SELECT YEAR(OrderDate), MONTH(OrderDate), SUM(Amount)
FROM Sales
GROUP BY YEAR(OrderDate), MONTH(OrderDate)
ORDER BY YEAR(OrderDate), MONTH(OrderDate);

1Ô∏è‚É£8Ô∏è‚É£ Sales for weekend only
‚úî LINQ
var weekend = context.Sales
    .Where(s => s.OrderDate.DayOfWeek == DayOfWeek.Saturday ||
                s.OrderDate.DayOfWeek == DayOfWeek.Sunday)
    .ToList();

‚úî SQL
SELECT *
FROM Sales
WHERE DATENAME(WEEKDAY, OrderDate) IN ('Saturday', 'Sunday');

1Ô∏è‚É£9Ô∏è‚É£ Running total
‚úî SQL
SELECT OrderDate,
SUM(Amount) OVER (ORDER BY OrderDate) AS RunningTotal
FROM Sales;

‚úî LINQ (Basic)
var running = context.Sales
    .OrderBy(s => s.OrderDate)
    .ToList()
    .Select((x, i) => new {
        x.OrderDate,
        Total = context.Sales
            .Where(s => s.OrderDate <= x.OrderDate)
            .Sum(s => s.Amount)
    });

2Ô∏è‚É£0Ô∏è‚É£ Top selling day
‚úî LINQ
var topDay = context.Sales
    .GroupBy(s => s.OrderDate.Date)
    .OrderByDescending(g => g.Sum(x => x.Amount))
    .FirstOrDefault();

‚úî SQL
SELECT TOP 1 CAST(OrderDate AS DATE), SUM(Amount)
FROM Sales
GROUP BY CAST(OrderDate AS DATE)
ORDER BY SUM(Amount) DESC;

‚≠ê Interview Tips

‚úî Learn GroupBy + Aggregate + DateTime ‚Äì very important
‚úî Be strong in joins + subqueries + window functions
‚úî Practice converting LINQ ‚Üí SQL and SQL ‚Üí LINQ
‚úî Focus on real business scenarios like:

Sales reports

Monthly dashboards

Customer insights

Growth tracking

If you want, I can also give:

‚úÖ Top 20 Join LINQ queries

‚úÖ Top Entity Framework interview questions

‚úÖ Real-time sales dashboard LINQ examples

‚úÖ Stored procedure vs LINQ interview questions

‚úÖ Most asked LINQ tricky interview questions

Just tell me üëç

write some above 20 queries with some sample data

Great üëç. Below are 20 LINQ + SQL queries with sample Sales data so you can practice for interviews and real projects.

‚≠ê Sample Sales Table + Data
‚úÖ SQL Table
CREATE TABLE Sales (
    Id INT,
    CustomerId INT,
    ProductId INT,
    Amount DECIMAL(10,2),
    Quantity INT,
    OrderDate DATETIME,
    City VARCHAR(50)
);

‚úÖ Sample Data
INSERT INTO Sales VALUES
(1,101,1,500,2,'2025-12-01','Hyderabad'),
(2,102,2,800,1,'2025-12-02','Bangalore'),
(3,101,3,1200,3,'2025-12-03','Hyderabad'),
(4,103,1,400,1,'2025-12-04','Chennai'),
(5,102,2,1500,4,'2025-12-05','Bangalore'),
(6,104,4,900,2,'2025-12-06','Pune'),
(7,101,3,700,2,'2025-12-07','Hyderabad'),
(8,105,5,2000,5,'2025-12-08','Mumbai'),
(9,103,1,600,2,'2025-12-09','Chennai'),
(10,101,2,1100,3,'2025-12-10','Hyderabad');

‚≠ê Equivalent LINQ Sample Class
public class Sale
{
    public int Id { get; set; }
    public int CustomerId { get; set; }
    public int ProductId { get; set; }
    public decimal Amount { get; set; }
    public int Quantity { get; set; }
    public DateTime OrderDate { get; set; }
    public string City { get; set; }
}


Assume:

List<Sale> sales = GetSales();

‚≠ê Top 20 LINQ + SQL Queries with Sample Data
1Ô∏è‚É£ Get all Hyderabad sales
‚úî LINQ
var result = sales.Where(x => x.City == "Hyderabad").ToList();

‚úî SQL
SELECT * FROM Sales WHERE City = 'Hyderabad';

2Ô∏è‚É£ Total sales amount
var total = sales.Sum(x => x.Amount);

SELECT SUM(Amount) FROM Sales;

3Ô∏è‚É£ Highest sale
var max = sales.Max(x => x.Amount);

SELECT MAX(Amount) FROM Sales;

4Ô∏è‚É£ Top 3 sales
var top3 = sales.OrderByDescending(x => x.Amount).Take(3);

SELECT TOP 3 * FROM Sales ORDER BY Amount DESC;

5Ô∏è‚É£ Sales in December
var december = sales.Where(x => x.OrderDate.Month == 12);

SELECT * FROM Sales WHERE MONTH(OrderDate) = 12;

6Ô∏è‚É£ Sales by customer
var group = sales.GroupBy(x => x.CustomerId)
.Select(g => new {
    Customer = g.Key,
    Total = g.Sum(x => x.Amount)
});

SELECT CustomerId, SUM(Amount)
FROM Sales
GROUP BY CustomerId;

7Ô∏è‚É£ Monthly sales
var monthly = sales.GroupBy(x => new { x.OrderDate.Year, x.OrderDate.Month })
.Select(g => new {
    g.Key.Year,
    g.Key.Month,
    Total = g.Sum(x => x.Amount)
});

SELECT YEAR(OrderDate), MONTH(OrderDate), SUM(Amount)
FROM Sales
GROUP BY YEAR(OrderDate), MONTH(OrderDate);

8Ô∏è‚É£ Count total orders
var count = sales.Count();

SELECT COUNT(*) FROM Sales;

9Ô∏è‚É£ Customers with more than 2 orders
var customers = sales.GroupBy(x => x.CustomerId)
.Where(g => g.Count() > 2)
.Select(g => g.Key);

SELECT CustomerId
FROM Sales
GROUP BY CustomerId
HAVING COUNT(*) > 2;

üîü Sales between dates
DateTime start = new DateTime(2025, 12, 1);
DateTime end = new DateTime(2025, 12, 5);

var range = sales.Where(x => x.OrderDate >= start && x.OrderDate <= end);

SELECT * FROM Sales
WHERE OrderDate BETWEEN '2025-12-01' AND '2025-12-05';

1Ô∏è‚É£1Ô∏è‚É£ Average sales
var avg = sales.Average(x => x.Amount);

SELECT AVG(Amount) FROM Sales;

1Ô∏è‚É£2Ô∏è‚É£ Sales by city
var city = sales.GroupBy(x => x.City)
.Select(g => new {
    City = g.Key,
    Total = g.Sum(x => x.Amount)
});

SELECT City, SUM(Amount)
FROM Sales
GROUP BY City;

1Ô∏è‚É£3Ô∏è‚É£ Latest order per customer
var latest = sales.GroupBy(x => x.CustomerId)
.Select(g => g.OrderByDescending(x => x.OrderDate).First());

SELECT *
FROM Sales s
WHERE OrderDate = (
    SELECT MAX(OrderDate)
    FROM Sales
    WHERE CustomerId = s.CustomerId
);

1Ô∏è‚É£4Ô∏è‚É£ Total quantity sold
var qty = sales.Sum(x => x.Quantity);

SELECT SUM(Quantity) FROM Sales;

1Ô∏è‚É£5Ô∏è‚É£ Top selling city
var topCity = sales.GroupBy(x => x.City)
.OrderByDescending(g => g.Sum(x => x.Amount))
.First();

SELECT TOP 1 City, SUM(Amount)
FROM Sales
GROUP BY City
ORDER BY SUM(Amount) DESC;

1Ô∏è‚É£6Ô∏è‚É£ Running total
var running = sales.OrderBy(x => x.OrderDate)
.Select((x, i) => new {
    x.OrderDate,
    Total = sales.Where(s => s.OrderDate <= x.OrderDate).Sum(s => s.Amount)
});

SELECT OrderDate,
SUM(Amount) OVER (ORDER BY OrderDate) RunningTotal
FROM Sales;

1Ô∏è‚É£7Ô∏è‚É£ Weekend sales
var weekend = sales.Where(x =>
    x.OrderDate.DayOfWeek == DayOfWeek.Saturday ||
    x.OrderDate.DayOfWeek == DayOfWeek.Sunday);

SELECT *
FROM Sales
WHERE DATENAME(WEEKDAY, OrderDate) IN ('Saturday','Sunday');

1Ô∏è‚É£8Ô∏è‚É£ Sales growth (month)
var growth = sales.GroupBy(x => x.OrderDate.Month)
.OrderBy(x => x.Key);

SELECT MONTH(OrderDate), SUM(Amount)
FROM Sales
GROUP BY MONTH(OrderDate)
ORDER BY MONTH(OrderDate);

1Ô∏è‚É£9Ô∏è‚É£ Lowest sale
var min = sales.Min(x => x.Amount);

SELECT MIN(Amount) FROM Sales;

2Ô∏è‚É£0Ô∏è‚É£ Total unique customers
var unique = sales.Select(x => x.CustomerId).Distinct().Count();

SELECT COUNT(DISTINCT CustomerId) FROM Sales;
